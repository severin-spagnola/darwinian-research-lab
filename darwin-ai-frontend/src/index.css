@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    color-scheme: dark;
    text-rendering: geometricPrecision;
  }

  html {
    scroll-behavior: smooth;
  }

  html,
  body {
    height: 100%;
  }

  body {
    @apply bg-bg text-text font-sans antialiased;
    /* Subtle dot grid pattern for depth (kept very low contrast). */
    background-image:
      radial-gradient(circle at 1px 1px, rgba(34, 211, 238, 0.10) 1px, transparent 0);
    background-size: 28px 28px;
  }

  #root {
    height: 100%;
  }

  a {
    @apply text-info-300 hover:text-info-200;
  }

  ::selection {
    @apply bg-primary-500/30 text-text;
  }

  /* Scrollbars (WebKit + Firefox) */
  * {
    scrollbar-width: thin;
    scrollbar-color: rgba(148, 163, 184, 0.30) rgba(32, 32, 32, 0.60);
  }

  *::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }

  *::-webkit-scrollbar-track {
    background: rgba(32, 32, 32, 0.55);
  }

  *::-webkit-scrollbar-thumb {
    background: rgba(148, 163, 184, 0.28);
    border-radius: 999px;
    border: 2px solid rgba(32, 32, 32, 0.55);
  }

  *::-webkit-scrollbar-thumb:hover {
    background: rgba(148, 163, 184, 0.40);
  }
}

@layer components {
  .panel {
    @apply rounded-2xl border border-border bg-panel;
  }

  .panel-header {
    @apply flex items-center justify-between gap-3 border-b border-border/60 px-4 py-3;
  }

  .panel-body {
    @apply px-4 py-4;
  }

  /* React Flow (XYFlow) dark theme polish */
  .react-flow {
    @apply bg-bg;
  }

  .react-flow__controls {
    @apply overflow-hidden rounded-2xl border border-border/60 bg-panel-elevated shadow-[0_0_0_1px_rgba(34,211,238,0.06),0_0_24px_rgba(16,185,129,0.08)];
  }

  .react-flow__controls button {
    @apply border-0 bg-transparent text-text-muted transition hover:bg-white/5 hover:text-text;
  }

  .react-flow__controls button:focus-visible {
    @apply outline-none ring-2 ring-info-500/25;
  }

  .react-flow__minimap {
    @apply overflow-hidden rounded-2xl border border-border/60 bg-panel-elevated;
  }

  .react-flow__attribution {
    display: none;
  }
}
